# Device listing
SET( TOOL openicc-device )
ADD_EXECUTABLE( ${TOOL} "${CMAKE_CURRENT_SOURCE_DIR}/openicc_device.c" )
IF( NOT HAVE_OYJL )
  SET_TARGET_PROPERTIES( ${TOOL} PROPERTIES COMPILE_DEFINITIONS "NO_OYJL_ARGS_RENDER=1" )
ENDIF()
TARGET_LINK_LIBRARIES( ${TOOL} ${OPENICC_LIBRARIES} ${EXTRA_LIBS} )

IF( ENABLE_INSTALL_${PROJECT_UP_NAME} )
  INSTALL (TARGETS ${TOOL} DESTINATION ${CMAKE_INSTALL_BINDIR})
  IF( NOT HAVE_OYJL )
    INCLUDE( "${CMAKE_BINARY_DIR}/oyjl/cmake/OyjlConfig.cmake" )
    UNSET( HAVE_OYJL )
  ENDIF()
  OYJL_DOCUMENT_TOOL( ${TOOL} "${CMAKE_CURRENT_SOURCE_DIR}/openicc_device.c" "de_DE.UTF8" "${DOC_PATH}" )
ENDIF( ENABLE_INSTALL_${PROJECT_UP_NAME} )
